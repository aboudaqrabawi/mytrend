{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.height = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _styles = _interopRequireDefault(require(\"./styles\"));\n\nvar _TrendBox = _interopRequireDefault(require(\"../../components/TrendBox\"));\n\nvar _Footer = _interopRequireDefault(require(\"../../components/Footer\"));\n\nvar _LoaderBox = _interopRequireDefault(require(\"../../components/LoaderBox\"));\n\nvar _reactNativeGestureHandler = require(\"react-native-gesture-handler\");\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _Config = _interopRequireDefault(require(\"../../../assets/Config\"));\n\nvar _jsxFileName = \"/Users/alheresh/trend-mobile/my-trend-new/src/screens/Trends/TrendsScreen.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _Dimensions$get = _reactNative.Dimensions.get('window'),\n    height = _Dimensions$get.height;\n\nexports.height = height;\n\nvar TrendsScreen = function (_Component) {\n  (0, _inherits2.default)(TrendsScreen, _Component);\n\n  var _super = _createSuper(TrendsScreen);\n\n  function TrendsScreen(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, TrendsScreen);\n    _this = _super.call(this, props);\n\n    _this.renderItems = function (_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      return _react.default.createElement(_TrendBox.default, {\n        data: item,\n        nav: _this.props.navigation,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 12\n        }\n      });\n    };\n\n    _this.renderTrendings = function () {\n      return _react.default.createElement(_reactNative.FlatList, {\n        data: _this.state.data,\n        renderItem: _this.renderItems,\n        keyExtractor: function keyExtractor(item) {\n          return item.id;\n        },\n        ListEmptyComponent: function ListEmptyComponent() {\n          return _react.default.createElement(_reactNative.View, {\n            style: _styles.default.noDataView,\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 13\n            }\n          }, !_this.state.showProgress && _react.default.createElement(_reactNative.Text, {\n            style: {\n              fontFamily: 'gibson-regular',\n              fontSize: 16,\n              color: 'red',\n              margin: 20,\n              textAlign: 'center'\n            },\n            __self: (0, _assertThisInitialized2.default)(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }\n          }, 'There is no Trends Currently '));\n        },\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.state = {\n      showProgress: false,\n      selected: 1,\n      data: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(TrendsScreen, [{\n    key: \"error\",\n    value: function error(msg) {\n      if (_reactNative.Platform.OS === 'android') {\n        _reactNative.ToastAndroid.show(msg, _reactNative.ToastAndroid.LONG);\n      } else {\n        _reactNative.AlertIOS.alert(msg);\n      }\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.state.showProgress) {\n        return _react.default.createElement(_LoaderBox.default, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 14\n          }\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getTrends();\n      this.getTrendigs();\n    }\n  }, {\n    key: \"getTrends\",\n    value: function getTrends() {\n      var userId, response, res;\n      return _regenerator.default.async(function getTrends$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_asyncStorage.default.getItem('@Trend:token'));\n\n            case 2:\n              userId = _context.sent;\n              console.log(userId);\n              this.setState({\n                showProgress: true\n              });\n              _context.prev = 5;\n              _context.next = 8;\n              return _regenerator.default.awrap(fetch(_Config.default.DOMAIN + 'gettrendbyinterestes', {\n                method: 'GET',\n                headers: {\n                  Authorization: 'Bearer ' + userId,\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              }));\n\n            case 8:\n              response = _context.sent;\n              _context.next = 11;\n              return _regenerator.default.awrap(response.json());\n\n            case 11:\n              res = _context.sent;\n              console.log('res', response.url);\n              console.log('res', res);\n\n              if (res.status == 400) {\n                this.error(res.messg);\n              } else {\n                this.setState({\n                  showProgress: false,\n                  data: res.messg\n                });\n              }\n\n              _context.next = 21;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](5);\n              console.log(_context.t0);\n              this.setState({\n                showProgress: false\n              });\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[5, 17]], Promise);\n    }\n  }, {\n    key: \"getTrendigs\",\n    value: function getTrendigs() {\n      var userId, response, res;\n      return _regenerator.default.async(function getTrendigs$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regenerator.default.awrap(_asyncStorage.default.getItem('@Trend:token'));\n\n            case 2:\n              userId = _context2.sent;\n              this.setState({\n                showProgress: true\n              });\n              _context2.prev = 4;\n              _context2.next = 7;\n              return _regenerator.default.awrap(fetch(_Config.default.DOMAIN + 'gettrends', {\n                method: 'GET',\n                headers: {\n                  Authorization: 'Bearer ' + userId,\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              }));\n\n            case 7:\n              response = _context2.sent;\n              _context2.next = 10;\n              return _regenerator.default.awrap(response.json());\n\n            case 10:\n              res = _context2.sent;\n              console.log('res', response.url);\n              console.log('res');\n\n              if (res.status == 400) {\n                this.error(res.messg);\n              } else {\n                this.setState({\n                  showProgress: false,\n                  data: res.messg\n                });\n              }\n\n              _context2.next = 20;\n              break;\n\n            case 16:\n              _context2.prev = 16;\n              _context2.t0 = _context2[\"catch\"](4);\n              console.log(_context2.t0);\n              this.setState({\n                showProgress: false\n              });\n\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, [[4, 16]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeGestureHandler.ScrollView, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 9\n        }\n      }, this.renderLoading(), this.renderTrendings()), _react.default.createElement(_reactNative.View, {\n        style: _styles.default.tabsContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          _this2.setState({\n            selected: 0\n          });\n\n          _this2.getTrendigs();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.iconTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, strings.Trendings))), _react.default.createElement(_reactNative.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }\n      }, '|'), _react.default.createElement(_reactNative.TouchableOpacity, {\n        onPress: function onPress() {\n          _this2.getTrends();\n\n          _this2.setState({\n            selected: 1\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: _styles.default.iconTxt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 15\n        }\n      }, strings.MyTrend)))), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_Footer.default, {\n        nav: this.props.navigation,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n  return TrendsScreen;\n}(_react.Component);\n\nexports.default = TrendsScreen;","map":{"version":3,"sources":["/Users/alheresh/trend-mobile/my-trend-new/src/screens/Trends/TrendsScreen.js"],"names":["Dimensions","get","height","TrendsScreen","props","renderItems","item","index","navigation","renderTrendings","state","data","id","styles","noDataView","showProgress","fontFamily","fontSize","color","margin","textAlign","selected","msg","Platform","OS","ToastAndroid","show","LONG","AlertIOS","alert","getTrends","getTrendigs","AsyncStorage","getItem","userId","console","log","setState","fetch","config","DOMAIN","method","headers","Authorization","Accept","response","json","res","url","status","error","messg","flex","renderLoading","tabsContainer","iconTxt","strings","Trendings","MyTrend","Component"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {\n  Dimensions,\n  StyleSheet,\n  Text,\n  View,\n  Image,\n  StatusBar,\n  TouchableOpacity,\n  FlatList,\n  ToastAndroid,\n  Platform,\n  AlertIOS,\n} from 'react-native';\nimport styles from './styles';\nimport TrendBox from '../../components/TrendBox';\nimport Footer from '../../components/Footer';\nimport LoaderBox from '../../components/LoaderBox';\nimport {ScrollView} from 'react-native-gesture-handler';\nexport const {height} = Dimensions.get('window');\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport config from '../../../assets/Config';\n\nexport default class TrendsScreen extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showProgress: false,\n      selected: 1,\n      data: [],\n    };\n  }\n  renderItems = ({item, index}) => {\n    return <TrendBox data={item} nav={this.props.navigation} />;\n  };\n  renderTrendings = () => {\n    return (\n      <FlatList\n        data={this.state.data}\n        renderItem={this.renderItems}\n        keyExtractor={(item) => item.id}\n        // onRefresh={() => this.onRefresh(1)}\n        // refreshing={this.state.isFetching}\n        ListEmptyComponent={() => {\n          return (\n            <View style={styles.noDataView}>\n              {!this.state.showProgress && (\n                <Text\n                  style={{\n                    fontFamily: 'gibson-regular',\n                    fontSize: 16,\n                    color: 'red',\n                    margin: 20,\n                    textAlign: 'center',\n                  }}>\n                  {'There is no Trends Currently '}\n                </Text>\n              )}\n            </View>\n          );\n        }}\n      />\n    );\n  };\n  error(msg) {\n    if (Platform.OS === 'android') {\n      ToastAndroid.show(msg, ToastAndroid.LONG);\n    } else {\n      AlertIOS.alert(msg);\n    }\n  }\n  renderLoading() {\n    if (this.state.showProgress) {\n      return <LoaderBox />;\n    }\n  }\n  componentDidMount() {\n    this.getTrends();\n    this.getTrendigs();\n  }\n  async getTrends() {\n    const userId = await AsyncStorage.getItem('@Trend:token');\n    console.log(userId);\n    this.setState({showProgress: true});\n    try {\n      let response = await fetch(config.DOMAIN + 'gettrendbyinterestes', {\n        method: 'GET',\n        headers: {\n          Authorization: 'Bearer ' + userId,\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      });\n      let res = await response.json();\n      console.log('res', response.url);\n      console.log('res', res);\n      if (res.status == 400) {\n        this.error(res.messg);\n      } else {\n        this.setState({showProgress: false, data: res.messg});\n      }\n    } catch (error) {\n      console.log(error);\n      this.setState({showProgress: false});\n    }\n  }\n  async getTrendigs() {\n    const userId = await AsyncStorage.getItem('@Trend:token');\n    this.setState({showProgress: true});\n    try {\n      let response = await fetch(config.DOMAIN + 'gettrends', {\n        //by following\n        // by following\n        method: 'GET',\n        headers: {\n          Authorization: 'Bearer ' + userId,\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      });\n      let res = await response.json();\n      console.log('res', response.url);\n      console.log('res');\n      if (res.status == 400) {\n        this.error(res.messg);\n      } else {\n        this.setState({showProgress: false, data: res.messg});\n      }\n    } catch (error) {\n      console.log(error);\n      this.setState({showProgress: false});\n    }\n  }\n  render() {\n    return (\n      <View style={{flex: 1}}>\n        <ScrollView>\n          {this.renderLoading()}\n\n          {this.renderTrendings()}\n        </ScrollView>\n        <View style={styles.tabsContainer}>\n          <TouchableOpacity\n            onPress={() => {\n              this.setState({selected: 0});\n              this.getTrendigs();\n            }}>\n            <View>\n              <Text style={styles.iconTxt}>{strings.Trendings}</Text>\n            </View>\n          </TouchableOpacity>\n          <Text>{'|'}</Text>\n          <TouchableOpacity\n            onPress={() => {\n              this.getTrends();\n              this.setState({selected: 1});\n            }}>\n            <View>\n              <Text style={styles.iconTxt}>{strings.MyTrend}</Text>\n            </View>\n          </TouchableOpacity>\n        </View>\n\n        <View>\n          <Footer nav={this.props.navigation} />\n        </View>\n      </View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"script"}