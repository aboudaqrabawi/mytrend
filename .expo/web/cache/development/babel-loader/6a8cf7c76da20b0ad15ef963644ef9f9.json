{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.height = exports.width = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeGestureHandler = require(\"react-native-gesture-handler\");\n\nvar _index = require(\"../../../assets/colors/index\");\n\nvar _InterestBox = _interopRequireDefault(require(\"../../components/InterestBox\"));\n\nvar _Config = _interopRequireDefault(require(\"../../../assets/Config\"));\n\nvar _LoaderBox = _interopRequireDefault(require(\"../../components/LoaderBox\"));\n\nvar _reactNativeSelectMultiple = _interopRequireDefault(require(\"react-native-select-multiple\"));\n\nvar _jsxFileName = \"/Users/alheresh/trend-mobile/my-trend-new/src/screens/SelectInterestings/SelectInterestings.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _Dimensions$get = _reactNative.Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nexports.height = height;\nexports.width = width;\n\nvar SelectInterestings = function (_Component) {\n  (0, _inherits2.default)(SelectInterestings, _Component);\n\n  var _super = _createSuper(SelectInterestings);\n\n  function SelectInterestings(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, SelectInterestings);\n    _this = _super.call(this, props);\n\n    _this.renderList = function (_ref) {\n      var item = _ref.item,\n          index = _ref.index;\n      return _react.default.createElement(_InterestBox.default, {\n        data: item,\n        index: index,\n        nav: _this.props.navigation,\n        __self: (0, _assertThisInitialized2.default)(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this.onSelectionsChange = function (selectedFruits) {\n      _this.setState({\n        selectedFruits: selectedFruits\n      });\n    };\n\n    _this.state = {\n      showProgress: false,\n      data: [],\n      selectedFruits: [],\n      selected: [],\n      islam: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(SelectInterestings, [{\n    key: \"Register\",\n    value: function Register() {\n      var _this2 = this;\n\n      var response, res;\n      return _regenerator.default.async(function Register$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.state.selectedFruits.map(function (val, key) {\n                var x = val.value;\n\n                _this2.state.islam.push(x);\n              });\n              this.setState({\n                showProgress: true\n              });\n              _context.prev = 2;\n              _context.next = 5;\n              return _regenerator.default.awrap(fetch(_Config.default.DOMAIN + 'register', {\n                method: 'POST',\n                headers: {\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  user_name: this.props.navigation.getParam('userName'),\n                  name: this.props.navigation.getParam('name'),\n                  email: this.props.navigation.getParam('email'),\n                  password: this.props.navigation.getParam('password'),\n                  phone: this.props.navigation.getParam('phone'),\n                  image: this.props.navigation.getParam('image'),\n                  interests: this.state.islam,\n                  major: this.props.navigation.getParam('major'),\n                  ext: this.props.navigation.getParam('ext')\n                })\n              }));\n\n            case 5:\n              response = _context.sent;\n              _context.next = 8;\n              return _regenerator.default.awrap(response.json());\n\n            case 8:\n              res = _context.sent;\n              console.log('res', response);\n\n              if (res.status == 400) {\n                this.error(res.messg);\n              } else {\n                this.props.navigation.navigate('Login');\n              }\n\n              this.props.navigation.navigate('Login');\n              this.setState({\n                showProgress: false\n              });\n              _context.next = 19;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](2);\n              console.log(_context.t0);\n              this.setState({\n                showProgress: false\n              });\n\n            case 19:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[2, 15]], Promise);\n    }\n  }, {\n    key: \"renderLoading\",\n    value: function renderLoading() {\n      if (this.state.showProgress) {\n        return _react.default.createElement(_LoaderBox.default, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 14\n          }\n        });\n      }\n    }\n  }, {\n    key: \"error\",\n    value: function error(msg) {\n      if (_reactNative.Platform.OS === 'android') {\n        _reactNative.ToastAndroid.show(msg, _reactNative.ToastAndroid.LONG);\n      } else {\n        _reactNative.AlertIOS.alert(msg);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillMount\",\n    value: function UNSAFE_componentWillMount() {\n      return _regenerator.default.async(function UNSAFE_componentWillMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.getInterstings();\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"getInterstings\",\n    value: function getInterstings() {\n      var _this3 = this;\n\n      var response, res;\n      return _regenerator.default.async(function getInterstings$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              this.setState({\n                showProgress: true\n              });\n              _context3.prev = 1;\n              _context3.next = 4;\n              return _regenerator.default.awrap(fetch(_Config.default.DOMAIN + 'interests'));\n\n            case 4:\n              response = _context3.sent;\n              _context3.next = 7;\n              return _regenerator.default.awrap(response.json());\n\n            case 7:\n              res = _context3.sent;\n\n              if (res.status != 400) {\n                res[0].map(function (val, key) {\n                  var x = {\n                    image: val.image,\n                    label: lang == 'ar' ? val.name_ar : val.name_en,\n                    value: val.id\n                  };\n\n                  _this3.state.data.push(x);\n                });\n              } else {\n                this.error(strings.thereisErr);\n              }\n\n              this.setState({\n                showProgress: false\n              });\n              _context3.next = 16;\n              break;\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.log(_context3.t0);\n              this.setState({\n                showProgress: false\n              });\n\n            case 16:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, [[1, 12]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var renderLabel = function renderLabel(label, style) {\n        var x = _this4.state.data.find(function (element) {\n          return element.label == label;\n        });\n\n        return _react.default.createElement(_reactNative.View, {\n          style: {},\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(_reactNative.Image, {\n          style: {\n            alignSelf: 'center',\n            width: width * 0.85,\n            height: height * 0.3,\n            resizeMode: 'cover'\n          },\n          source: {\n            uri: _Config.default.IMG_DOMAIN + x.image\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 11\n          }\n        }), _react.default.createElement(_reactNative.View, {\n          style: {\n            marginLeft: 10,\n            position: 'absolute'\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 11\n          }\n        }, _react.default.createElement(_reactNative.Text, {\n          style: {\n            color: '#fff',\n            backgroundColor: 'rgba(52, 52, 52, 0.2)',\n            padding: 20\n          },\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }\n        }, label)));\n      };\n\n      return _react.default.createElement(_reactNativeGestureHandler.ScrollView, {\n        style: {\n          backgroundColor: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNative.StatusBar, {\n        barStyle: \"light-content\",\n        backgroundColor: _index.gray,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      }), this.renderLoading(), _react.default.createElement(_reactNative.View, {\n        style: {\n          backgroundColor: _index.black,\n          padding: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: [styles.txt, {\n          textAlign: 'left'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      }, strings.Whatareyourinterests)), _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNativeSelectMultiple.default, {\n        items: this.state.data,\n        renderLabel: renderLabel,\n        selectedItems: this.state.selectedFruits,\n        onSelectionsChange: this.onSelectionsChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.TouchableOpacity, {\n        style: {\n          alignSelf: 'center',\n          marginVertical: 20\n        },\n        onPress: function onPress() {\n          return _this4.Register();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_reactNative.View, {\n        style: styles.btnView,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }\n      }, _react.default.createElement(_reactNative.Text, {\n        style: styles.txt,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, strings.completion))));\n    }\n  }]);\n  return SelectInterestings;\n}(_react.Component);\n\nexports.default = SelectInterestings;","map":{"version":3,"sources":["/Users/alheresh/trend-mobile/my-trend-new/src/screens/SelectInterestings/SelectInterestings.js"],"names":["Dimensions","get","width","height","SelectInterestings","props","renderList","item","index","navigation","onSelectionsChange","selectedFruits","setState","state","showProgress","data","selected","islam","map","val","key","x","value","push","fetch","config","DOMAIN","method","headers","Accept","body","JSON","stringify","user_name","getParam","name","email","password","phone","image","interests","major","ext","response","json","res","console","log","status","error","messg","navigate","msg","Platform","OS","ToastAndroid","show","LONG","AlertIOS","alert","getInterstings","label","lang","name_ar","name_en","id","strings","thereisErr","renderLabel","style","find","element","alignSelf","resizeMode","uri","IMG_DOMAIN","marginLeft","position","color","backgroundColor","padding","gray","renderLoading","black","styles","txt","textAlign","Whatareyourinterests","marginVertical","Register","btnView","completion","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {\n  TouchableOpacity,\n  Dimensions,\n  View,\n  StatusBar,\n  Text,\n  ToastAndroid,\n  Platform,\n  AlertIOS,\n  Image\n} from 'react-native';\nimport { ScrollView } from 'react-native-gesture-handler';\nimport { gray, black } from '../../../assets/colors/index';\nimport InterestBox from '../../components/InterestBox';\nexport const { width, height } = Dimensions.get('window');\nimport config from '../../../assets/Config';\nimport LoaderBox from '../../components/LoaderBox';\nimport SelectMultiple from 'react-native-select-multiple';\n\nexport default class SelectInterestings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showProgress: false,\n      data: [],\n      selectedFruits: [],\n      selected: [],\n      islam: [],\n    };\n  }\n  async Register() {\n    this.state.selectedFruits.map((val, key) => {\n      var x = val.value\n      this.state.islam.push(x);\n    });\n    this.setState({ showProgress: true });\n    try {\n      let response = await fetch(config.DOMAIN + 'register', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_name: this.props.navigation.getParam('userName'),\n          name: this.props.navigation.getParam('name'),\n          email: this.props.navigation.getParam('email'),\n          password: this.props.navigation.getParam('password'),\n          phone: this.props.navigation.getParam('phone'),\n          image: this.props.navigation.getParam('image'),\n          interests: this.state.islam,\n          major: this.props.navigation.getParam('major'),\n          ext: this.props.navigation.getParam('ext'),\n        }),\n      });\n      let res = await response.json();\n      console.log('res', response);\n      if (res.status == 400) {\n        this.error(res.messg);\n      } else {\n        this.props.navigation.navigate('Login');\n      }\n      this.props.navigation.navigate('Login');\n      this.setState({ showProgress: false });\n    } catch (error) {\n      console.log(error);\n      this.setState({ showProgress: false });\n    }\n\n  }\n  renderLoading() {\n    if (this.state.showProgress) {\n      return <LoaderBox />;\n    }\n  }\n  error(msg) {\n    if (Platform.OS === 'android') {\n      ToastAndroid.show(msg, ToastAndroid.LONG);\n    } else {\n      AlertIOS.alert(msg);\n    }\n  }\n  async UNSAFE_componentWillMount() {\n    this.getInterstings();\n  }\n\n  async getInterstings() {\n    this.setState({ showProgress: true });\n    try {\n      let response = await fetch(config.DOMAIN + 'interests');\n      let res = await response.json();\n      if (res.status != 400) {\n        res[0].map((val, key) => {\n          var x = {\n            image: val.image,\n            label: lang == 'ar' ? val.name_ar : val.name_en,\n            value: val.id,\n          };\n          this.state.data.push(x);\n        });\n      } else {\n        this.error(strings.thereisErr);\n      }\n      this.setState({ showProgress: false });\n    } catch (error) {\n      console.log(error);\n      this.setState({ showProgress: false });\n    }\n  }\n  renderList = ({ item, index }) => {\n    return (\n      <InterestBox data={item} index={index} nav={this.props.navigation} />\n    );\n  };\n  onSelectionsChange = (selectedFruits) => {\n    // selectedFruits is array of { label, value }\n    this.setState({ selectedFruits })\n  }\n  render() {\n    const renderLabel = (label, style) => {\n      var x = this.state.data.find(element => element.label == label)\n      return (\n        <View style={{}}>\n          <Image style={{ alignSelf: 'center', width: width * 0.85, height: height * 0.3, resizeMode: 'cover' }} source={{ uri: config.IMG_DOMAIN + x.image }} />\n          <View style={{ marginLeft: 10, position: 'absolute' }}>\n            <Text style={{\n              color: '#fff', backgroundColor: 'rgba(52, 52, 52, 0.2)', padding: 20\n            }}>{label}</Text>\n          </View>\n        </View>\n      )\n    }\n    return (\n      <ScrollView style={{ backgroundColor: 'white' }}>\n        <StatusBar barStyle=\"light-content\" backgroundColor={gray} />\n        {this.renderLoading()}\n        <View\n          style={{\n            backgroundColor: black,\n            padding: 20,\n          }}>\n          <Text style={[styles.txt, { textAlign: 'left' }]}>\n            {strings.Whatareyourinterests}\n          </Text>\n        </View>\n        <View>\n          <SelectMultiple\n            items={this.state.data}\n            renderLabel={renderLabel}\n            selectedItems={this.state.selectedFruits}\n            onSelectionsChange={this.onSelectionsChange}\n          />\n        </View>\n        <TouchableOpacity\n          style={{ alignSelf: 'center', marginVertical: 20 }}\n          onPress={() => this.Register()}>\n          <View style={styles.btnView}>\n            <Text style={styles.txt}>{strings.completion}</Text>\n          </View>\n        </TouchableOpacity>\n      </ScrollView>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"script"}