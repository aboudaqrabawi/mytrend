{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.PATTERNS = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _TextExtraction = _interopRequireDefault(require(\"./lib/TextExtraction\"));\n\nvar _jsxFileName = \"/Users/alheresh/trend-mobile/my-trend-new/node_modules/react-native-parsed-text/src/ParsedText.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar PATTERNS = {\n  url: /(https?:\\/\\/|www\\.)[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.(xn--)?[a-z0-9-]{2,20}\\b([-a-zA-Z0-9@:%_\\+\\[\\],.~#?&\\/=]*[-a-zA-Z0-9@:%_\\+\\]~#?&\\/=])*/i,\n  phone: /[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,7}/,\n  email: /\\S+@\\S+\\.\\S+/\n};\nexports.PATTERNS = PATTERNS;\n\nvar defaultParseShape = _propTypes.default.shape(_objectSpread(_objectSpread({}, _reactNative.Text.propTypes), {}, {\n  type: _propTypes.default.oneOf(Object.keys(PATTERNS)).isRequired,\n  nonExhaustiveMaxMatchCount: _propTypes.default.number\n}));\n\nvar customParseShape = _propTypes.default.shape(_objectSpread(_objectSpread({}, _reactNative.Text.propTypes), {}, {\n  pattern: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.instanceOf(RegExp)]).isRequired,\n  nonExhaustiveMaxMatchCount: _propTypes.default.number\n}));\n\nvar ParsedText = function (_React$Component) {\n  (0, _inherits2.default)(ParsedText, _React$Component);\n\n  var _super = _createSuper(ParsedText);\n\n  function ParsedText() {\n    (0, _classCallCheck2.default)(this, ParsedText);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(ParsedText, [{\n    key: \"setNativeProps\",\n    value: function setNativeProps(nativeProps) {\n      this._root.setNativeProps(nativeProps);\n    }\n  }, {\n    key: \"getPatterns\",\n    value: function getPatterns() {\n      return this.props.parse.map(function (option) {\n        var type = option.type,\n            patternOption = (0, _objectWithoutProperties2.default)(option, [\"type\"]);\n\n        if (type) {\n          if (!PATTERNS[type]) {\n            throw new Error(option.type + \" is not a supported type\");\n          }\n\n          patternOption.pattern = PATTERNS[type];\n        }\n\n        return patternOption;\n      });\n    }\n  }, {\n    key: \"getParsedText\",\n    value: function getParsedText() {\n      var _this = this;\n\n      if (!this.props.parse) {\n        return this.props.children;\n      }\n\n      if (typeof this.props.children !== 'string') {\n        return this.props.children;\n      }\n\n      var textExtraction = new _TextExtraction.default(this.props.children, this.getPatterns());\n      return textExtraction.parse().map(function (props, index) {\n        var parentStyle = _this.props.style;\n        var style = props.style,\n            remainder = (0, _objectWithoutProperties2.default)(props, [\"style\"]);\n        return _react.default.createElement(_reactNative.Text, (0, _extends2.default)({\n          key: \"parsedText-\" + index,\n          style: [parentStyle, style]\n        }, _this.props.childrenProps, remainder, {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 9\n          }\n        }));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = _objectSpread({}, this.props),\n          parse = _this$props.parse,\n          childrenProps = _this$props.childrenProps,\n          remainder = (0, _objectWithoutProperties2.default)(_this$props, [\"parse\", \"childrenProps\"]);\n\n      return _react.default.createElement(_reactNative.Text, (0, _extends2.default)({\n        ref: function ref(_ref) {\n          return _this2._root = _ref;\n        }\n      }, remainder, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 7\n        }\n      }), this.getParsedText());\n    }\n  }]);\n  return ParsedText;\n}(_react.default.Component);\n\nParsedText.displayName = 'ParsedText';\nParsedText.propTypes = _objectSpread(_objectSpread({}, _reactNative.Text.propTypes), {}, {\n  parse: _propTypes.default.arrayOf(_propTypes.default.oneOfType([defaultParseShape, customParseShape])),\n  childrenProps: _propTypes.default.shape(_reactNative.Text.propTypes)\n});\nParsedText.defaultProps = {\n  parse: null,\n  childrenProps: {}\n};\nvar _default = ParsedText;\nexports.default = _default;","map":{"version":3,"sources":["/Users/alheresh/trend-mobile/my-trend-new/node_modules/react-native-parsed-text/src/ParsedText.js"],"names":["PATTERNS","url","phone","email","defaultParseShape","PropTypes","shape","Text","propTypes","type","oneOf","Object","keys","isRequired","nonExhaustiveMaxMatchCount","number","customParseShape","pattern","oneOfType","string","instanceOf","RegExp","ParsedText","nativeProps","_root","setNativeProps","props","parse","map","option","patternOption","Error","children","textExtraction","TextExtraction","getPatterns","index","parentStyle","style","remainder","childrenProps","ref","getParsedText","React","Component","displayName","arrayOf","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport TextExtraction from './lib/TextExtraction';\n\n/**\n * This is a list of the known patterns that are provided by this library\n * @typedef {('url'|'phone'|'email')} KnownParsePattern\n */\n/**\n * @type {Object.<string, RegExp>}\n * // The keys really should be KnownParsePattern -- but this is unsupported in jsdoc, sadly\n */\nexport const PATTERNS = {\n  /**\n   * Segments/Features:\n   *  - http/https support https?\n   *  - auto-detecting loose domains if preceded by `www.`\n   *  - Localized & Long top-level domains \\.(xn--)?[a-z0-9-]{2,20}\\b\n   *  - Allowed query parameters & values, it's two blocks of matchers\n   *    ([-a-zA-Z0-9@:%_\\+,.~#?&\\/=]*[-a-zA-Z0-9@:%_\\+~#?&\\/=])*\n   *    - First block is [-a-zA-Z0-9@:%_\\+\\[\\],.~#?&\\/=]* -- this matches parameter names & values (including commas, dots, opening & closing brackets)\n   *    - The first block must be followed by a closing block [-a-zA-Z0-9@:%_\\+\\]~#?&\\/=] -- this doesn't match commas, dots, and opening brackets\n   */\n  url: /(https?:\\/\\/|www\\.)[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.(xn--)?[a-z0-9-]{2,20}\\b([-a-zA-Z0-9@:%_\\+\\[\\],.~#?&\\/=]*[-a-zA-Z0-9@:%_\\+\\]~#?&\\/=])*/i,\n  phone: /[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,7}/,\n  email: /\\S+@\\S+\\.\\S+/,\n};\n\n/**\n * This is for built-in-patterns already supported by this library\n * Note: any additional keys/props are permitted, and will be passed along as props to the <Text> component!\n * @typedef {Object} DefaultParseShape\n * @property {KnownParsePattern} [type] key of the known pattern you'd like to configure\n * @property {number} [nonExhaustiveModeMaxMatchCount] Enables \"non-exhaustive mode\", where you can limit how many matches are found. -- Must be a positive integer or Infinity matches are permitted\n * @property {Function} [renderText] arbitrary function to rewrite the matched string into something else\n * @property {Function} [onPress]\n * @property {Function} [onLongPress]\n */\nconst defaultParseShape = PropTypes.shape({\n  ...Text.propTypes,\n  type: PropTypes.oneOf(Object.keys(PATTERNS)).isRequired,\n  nonExhaustiveMaxMatchCount: PropTypes.number,\n});\n\nconst customParseShape = PropTypes.shape({\n  ...Text.propTypes,\n  pattern: PropTypes.oneOfType([PropTypes.string, PropTypes.instanceOf(RegExp)])\n    .isRequired,\n  nonExhaustiveMaxMatchCount: PropTypes.number,\n});\n\n/**\n * The props added by this component\n * @typedef {DefaultParseShape|import('./lib/TextExtraction').CustomParseShape} ParsedTextAddedProps\n * @property {ParseShape[]} parse\n * @property {import('react-native').TextProps} childrenProps -- the props set on each child Text component\n */\n/** @typedef {ParsedTextAddedProps & import('react-native').TextProps} ParsedTextProps */\n\n/** @type {import('react').ComponentClass<ParsedTextProps>} */\nclass ParsedText extends React.Component {\n  static displayName = 'ParsedText';\n\n  static propTypes = {\n    ...Text.propTypes,\n    parse: PropTypes.arrayOf(\n      PropTypes.oneOfType([defaultParseShape, customParseShape]),\n    ),\n    childrenProps: PropTypes.shape(Text.propTypes),\n  };\n\n  static defaultProps = {\n    parse: null,\n    childrenProps: {},\n  };\n\n  setNativeProps(nativeProps) {\n    this._root.setNativeProps(nativeProps);\n  }\n  /** @returns {import('./lib/TextExtraction').CustomParseShape[]} */\n  getPatterns() {\n    return this.props.parse.map((option) => {\n      const { type, ...patternOption } = option;\n      if (type) {\n        if (!PATTERNS[type]) {\n          throw new Error(`${option.type} is not a supported type`);\n        }\n        patternOption.pattern = PATTERNS[type];\n      }\n\n      return patternOption;\n    });\n  }\n\n  getParsedText() {\n    if (!this.props.parse) {\n      return this.props.children;\n    }\n    if (typeof this.props.children !== 'string') {\n      return this.props.children;\n    }\n\n    const textExtraction = new TextExtraction(\n      this.props.children,\n      this.getPatterns(),\n    );\n\n    return textExtraction.parse().map((props, index) => {\n      const { style: parentStyle } = this.props;\n      const { style, ...remainder } = props;\n      return (\n        <Text\n          key={`parsedText-${index}`}\n          style={[parentStyle, style]}\n          {...this.props.childrenProps}\n          {...remainder}\n        />\n      );\n    });\n  }\n\n  render() {\n    // Discard custom props before passing remainder to Text\n    const { parse, childrenProps, ...remainder } = { ...this.props };\n\n    return (\n      <Text ref={(ref) => (this._root = ref)} {...remainder}>\n        {this.getParsedText()}\n      </Text>\n    );\n  }\n}\n\nexport default ParsedText;\n"]},"metadata":{},"sourceType":"script"}