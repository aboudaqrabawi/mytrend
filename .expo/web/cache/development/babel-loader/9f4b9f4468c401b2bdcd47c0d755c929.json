{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.statics = exports.default = exports.NAMESPACE = exports.MODULE_NAME = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _User = _interopRequireDefault(require(\"./User\"));\n\nvar _ModuleBase2 = _interopRequireDefault(require(\"../../utils/ModuleBase\"));\n\nvar _events = require(\"../../utils/events\");\n\nvar _utils = require(\"../../utils\");\n\nvar _log = require(\"../../utils/log\");\n\nvar _native = require(\"../../utils/native\");\n\nvar _internals = _interopRequireDefault(require(\"../../utils/internals\"));\n\nvar _ConfirmationResult = _interopRequireDefault(require(\"./phone/ConfirmationResult\"));\n\nvar _PhoneAuthListener = _interopRequireDefault(require(\"./phone/PhoneAuthListener\"));\n\nvar _AuthSettings = _interopRequireDefault(require(\"./AuthSettings\"));\n\nvar _EmailAuthProvider = _interopRequireDefault(require(\"./providers/EmailAuthProvider\"));\n\nvar _PhoneAuthProvider = _interopRequireDefault(require(\"./providers/PhoneAuthProvider\"));\n\nvar _GoogleAuthProvider = _interopRequireDefault(require(\"./providers/GoogleAuthProvider\"));\n\nvar _GithubAuthProvider = _interopRequireDefault(require(\"./providers/GithubAuthProvider\"));\n\nvar _OAuthProvider = _interopRequireDefault(require(\"./providers/OAuthProvider\"));\n\nvar _TwitterAuthProvider = _interopRequireDefault(require(\"./providers/TwitterAuthProvider\"));\n\nvar _FacebookAuthProvider = _interopRequireDefault(require(\"./providers/FacebookAuthProvider\"));\n\nvar _AppleAuthProvider = _interopRequireDefault(require(\"./providers/AppleAuthProvider\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar NATIVE_EVENTS = ['auth_state_changed', 'auth_id_token_changed', 'phone_auth_state_changed'];\nvar MODULE_NAME = 'RNFirebaseAuth';\nexports.MODULE_NAME = MODULE_NAME;\nvar NAMESPACE = 'auth';\nexports.NAMESPACE = NAMESPACE;\n\nvar Auth = function (_ModuleBase) {\n  (0, _inherits2.default)(Auth, _ModuleBase);\n\n  var _super = _createSuper(Auth);\n\n  function Auth(app) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, Auth);\n    _this = _super.call(this, app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: true,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    var NativeModule = (0, _native.getNativeModule)((0, _assertThisInitialized2.default)(_this));\n    _this._user = null;\n    _this._settings = null;\n    _this._authResult = false;\n    _this._languageCode = NativeModule.APP_LANGUAGE[app._name] || NativeModule.APP_LANGUAGE['[DEFAULT]'];\n\n    if (NativeModule.APP_USER[app._name]) {\n      _this._setUser(NativeModule.APP_USER[app._name]);\n    }\n\n    _events.SharedEventEmitter.addListener((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'auth_state_changed'), function (state) {\n      _this._setUser(state.user);\n\n      _events.SharedEventEmitter.emit((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'onAuthStateChanged'), _this._user);\n    });\n\n    _events.SharedEventEmitter.addListener((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'phone_auth_state_changed'), function (event) {\n      var eventKey = \"phone:auth:\" + event.requestKey + \":\" + event.type;\n\n      _events.SharedEventEmitter.emit(eventKey, event.state);\n    });\n\n    _events.SharedEventEmitter.addListener((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'auth_id_token_changed'), function (auth) {\n      _this._setUser(auth.user);\n\n      _events.SharedEventEmitter.emit((0, _events.getAppEventName)((0, _assertThisInitialized2.default)(_this), 'onIdTokenChanged'), _this._user);\n    });\n\n    NativeModule.addAuthStateListener();\n    NativeModule.addIdTokenListener();\n    return _this;\n  }\n\n  (0, _createClass2.default)(Auth, [{\n    key: \"_setUser\",\n    value: function _setUser(user) {\n      this._user = user ? new _User.default(this, user) : null;\n      this._authResult = true;\n\n      _events.SharedEventEmitter.emit((0, _events.getAppEventName)(this, 'onUserChanged'), this._user);\n\n      return this._user;\n    }\n  }, {\n    key: \"_setUserCredential\",\n    value: function _setUserCredential(userCredential) {\n      var user = new _User.default(this, userCredential.user);\n      this._user = user;\n      this._authResult = true;\n\n      _events.SharedEventEmitter.emit((0, _events.getAppEventName)(this, 'onUserChanged'), this._user);\n\n      return {\n        additionalUserInfo: userCredential.additionalUserInfo,\n        user: user\n      };\n    }\n  }, {\n    key: \"onAuthStateChanged\",\n    value: function onAuthStateChanged(listener) {\n      var _this2 = this;\n\n      (0, _log.getLogger)(this).info('Creating onAuthStateChanged listener');\n\n      _events.SharedEventEmitter.addListener((0, _events.getAppEventName)(this, 'onAuthStateChanged'), listener);\n\n      if (this._authResult) listener(this._user || null);\n      return function () {\n        (0, _log.getLogger)(_this2).info('Removing onAuthStateChanged listener');\n\n        _events.SharedEventEmitter.removeListener((0, _events.getAppEventName)(_this2, 'onAuthStateChanged'), listener);\n      };\n    }\n  }, {\n    key: \"onIdTokenChanged\",\n    value: function onIdTokenChanged(listener) {\n      var _this3 = this;\n\n      (0, _log.getLogger)(this).info('Creating onIdTokenChanged listener');\n\n      _events.SharedEventEmitter.addListener((0, _events.getAppEventName)(this, 'onIdTokenChanged'), listener);\n\n      if (this._authResult) listener(this._user || null);\n      return function () {\n        (0, _log.getLogger)(_this3).info('Removing onIdTokenChanged listener');\n\n        _events.SharedEventEmitter.removeListener((0, _events.getAppEventName)(_this3, 'onIdTokenChanged'), listener);\n      };\n    }\n  }, {\n    key: \"onUserChanged\",\n    value: function onUserChanged(listener) {\n      var _this4 = this;\n\n      (0, _log.getLogger)(this).info('Creating onUserChanged listener');\n\n      _events.SharedEventEmitter.addListener((0, _events.getAppEventName)(this, 'onUserChanged'), listener);\n\n      if (this._authResult) listener(this._user || null);\n      return function () {\n        (0, _log.getLogger)(_this4).info('Removing onUserChanged listener');\n\n        _events.SharedEventEmitter.removeListener((0, _events.getAppEventName)(_this4, 'onUserChanged'), listener);\n      };\n    }\n  }, {\n    key: \"signOut\",\n    value: function signOut() {\n      var _this5 = this;\n\n      return (0, _native.getNativeModule)(this).signOut().then(function () {\n        _this5._setUser();\n      });\n    }\n  }, {\n    key: \"signInAnonymously\",\n    value: function signInAnonymously() {\n      var _this6 = this;\n\n      return (0, _native.getNativeModule)(this).signInAnonymously().then(function (userCredential) {\n        return _this6._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInAnonymouslyAndRetrieveData\",\n    value: function signInAnonymouslyAndRetrieveData() {\n      var _this7 = this;\n\n      console.warn('Deprecated signInAnonymouslyAndRetrieveData in favor of signInAnonymously.');\n      return (0, _native.getNativeModule)(this).signInAnonymously().then(function (userCredential) {\n        return _this7._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"createUserWithEmailAndPassword\",\n    value: function createUserWithEmailAndPassword(email, password) {\n      var _this8 = this;\n\n      return (0, _native.getNativeModule)(this).createUserWithEmailAndPassword(email, password).then(function (userCredential) {\n        return _this8._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"createUserAndRetrieveDataWithEmailAndPassword\",\n    value: function createUserAndRetrieveDataWithEmailAndPassword(email, password) {\n      var _this9 = this;\n\n      console.warn('Deprecated createUserAndRetrieveDataWithEmailAndPassword in favor of createUserWithEmailAndPassword.');\n      return (0, _native.getNativeModule)(this).createUserWithEmailAndPassword(email, password).then(function (userCredential) {\n        return _this9._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInWithEmailAndPassword\",\n    value: function signInWithEmailAndPassword(email, password) {\n      var _this10 = this;\n\n      return (0, _native.getNativeModule)(this).signInWithEmailAndPassword(email, password).then(function (userCredential) {\n        return _this10._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInAndRetrieveDataWithEmailAndPassword\",\n    value: function signInAndRetrieveDataWithEmailAndPassword(email, password) {\n      var _this11 = this;\n\n      console.warn('Deprecated signInAndRetrieveDataWithEmailAndPassword in favor of signInWithEmailAndPassword.');\n      return (0, _native.getNativeModule)(this).signInWithEmailAndPassword(email, password).then(function (userCredential) {\n        return _this11._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInWithCustomToken\",\n    value: function signInWithCustomToken(customToken) {\n      var _this12 = this;\n\n      return (0, _native.getNativeModule)(this).signInWithCustomToken(customToken).then(function (userCredential) {\n        return _this12._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInAndRetrieveDataWithCustomToken\",\n    value: function signInAndRetrieveDataWithCustomToken(customToken) {\n      var _this13 = this;\n\n      console.warn('Deprecated signInAndRetrieveDataWithCustomToken in favor of signInWithCustomToken.');\n      return (0, _native.getNativeModule)(this).signInWithCustomToken(customToken).then(function (userCredential) {\n        return _this13._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInWithCredential\",\n    value: function signInWithCredential(credential) {\n      var _this14 = this;\n\n      return (0, _native.getNativeModule)(this).signInWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this14._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInAndRetrieveDataWithCredential\",\n    value: function signInAndRetrieveDataWithCredential(credential) {\n      var _this15 = this;\n\n      console.warn('Deprecated signInAndRetrieveDataWithCredential in favor of signInWithCredential.');\n      return (0, _native.getNativeModule)(this).signInWithCredential(credential.providerId, credential.token, credential.secret).then(function (userCredential) {\n        return _this15._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"signInWithPhoneNumber\",\n    value: function signInWithPhoneNumber(phoneNumber, forceResend) {\n      var _this16 = this;\n\n      if (_utils.isAndroid) {\n        return (0, _native.getNativeModule)(this).signInWithPhoneNumber(phoneNumber, forceResend || false).then(function (result) {\n          return new _ConfirmationResult.default(_this16, result.verificationId);\n        });\n      }\n\n      return (0, _native.getNativeModule)(this).signInWithPhoneNumber(phoneNumber).then(function (result) {\n        return new _ConfirmationResult.default(_this16, result.verificationId);\n      });\n    }\n  }, {\n    key: \"verifyPhoneNumber\",\n    value: function verifyPhoneNumber(phoneNumber, autoVerifyTimeoutOrForceResend, forceResend) {\n      var _forceResend = forceResend;\n      var _autoVerifyTimeout = 60;\n\n      if ((0, _utils.isBoolean)(autoVerifyTimeoutOrForceResend)) {\n        _forceResend = autoVerifyTimeoutOrForceResend;\n      } else {\n        _autoVerifyTimeout = autoVerifyTimeoutOrForceResend;\n      }\n\n      return new _PhoneAuthListener.default(this, phoneNumber, _autoVerifyTimeout, _forceResend);\n    }\n  }, {\n    key: \"sendPasswordResetEmail\",\n    value: function sendPasswordResetEmail(email, actionCodeSettings) {\n      return (0, _native.getNativeModule)(this).sendPasswordResetEmail(email, actionCodeSettings);\n    }\n  }, {\n    key: \"sendSignInLinkToEmail\",\n    value: function sendSignInLinkToEmail(email, actionCodeSettings) {\n      return (0, _native.getNativeModule)(this).sendSignInLinkToEmail(email, actionCodeSettings);\n    }\n  }, {\n    key: \"isSignInWithEmailLink\",\n    value: function isSignInWithEmailLink(emailLink) {\n      return typeof emailLink === 'string' && (emailLink.includes('mode=signIn') || emailLink.includes('mode%3DsignIn')) && (emailLink.includes('oobCode=') || emailLink.includes('oobCode%3D'));\n    }\n  }, {\n    key: \"signInWithEmailLink\",\n    value: function signInWithEmailLink(email, emailLink) {\n      var _this17 = this;\n\n      return (0, _native.getNativeModule)(this).signInWithEmailLink(email, emailLink).then(function (userCredential) {\n        return _this17._setUserCredential(userCredential);\n      });\n    }\n  }, {\n    key: \"confirmPasswordReset\",\n    value: function confirmPasswordReset(code, newPassword) {\n      return (0, _native.getNativeModule)(this).confirmPasswordReset(code, newPassword);\n    }\n  }, {\n    key: \"applyActionCode\",\n    value: function applyActionCode(code) {\n      var _this18 = this;\n\n      return (0, _native.getNativeModule)(this).applyActionCode(code).then(function (user) {\n        _this18._setUser(user);\n      });\n    }\n  }, {\n    key: \"checkActionCode\",\n    value: function checkActionCode(code) {\n      return (0, _native.getNativeModule)(this).checkActionCode(code);\n    }\n  }, {\n    key: \"fetchSignInMethodsForEmail\",\n    value: function fetchSignInMethodsForEmail(email) {\n      return (0, _native.getNativeModule)(this).fetchSignInMethodsForEmail(email);\n    }\n  }, {\n    key: \"verifyPasswordResetCode\",\n    value: function verifyPasswordResetCode(code) {\n      return (0, _native.getNativeModule)(this).verifyPasswordResetCode(code);\n    }\n  }, {\n    key: \"languageCode\",\n    get: function get() {\n      return this._languageCode;\n    },\n    set: function set(code) {\n      this._languageCode = code;\n      (0, _native.getNativeModule)(this).setLanguageCode(code);\n    }\n  }, {\n    key: \"settings\",\n    get: function get() {\n      if (!this._settings) {\n        this._settings = new _AuthSettings.default(this);\n      }\n\n      return this._settings;\n    }\n  }, {\n    key: \"currentUser\",\n    get: function get() {\n      return this._user;\n    }\n  }, {\n    key: \"getRedirectResult\",\n    value: function getRedirectResult() {\n      throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'getRedirectResult'));\n    }\n  }, {\n    key: \"setPersistence\",\n    value: function setPersistence() {\n      throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'setPersistence'));\n    }\n  }, {\n    key: \"signInWithPopup\",\n    value: function signInWithPopup() {\n      throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'signInWithPopup'));\n    }\n  }, {\n    key: \"signInWithRedirect\",\n    value: function signInWithRedirect() {\n      throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'signInWithRedirect'));\n    }\n  }, {\n    key: \"useDeviceLanguage\",\n    value: function useDeviceLanguage() {\n      throw new Error(_internals.default.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'useDeviceLanguage'));\n    }\n  }]);\n  return Auth;\n}(_ModuleBase2.default);\n\nexports.default = Auth;\nvar statics = {\n  EmailAuthProvider: _EmailAuthProvider.default,\n  PhoneAuthProvider: _PhoneAuthProvider.default,\n  GoogleAuthProvider: _GoogleAuthProvider.default,\n  GithubAuthProvider: _GithubAuthProvider.default,\n  TwitterAuthProvider: _TwitterAuthProvider.default,\n  FacebookAuthProvider: _FacebookAuthProvider.default,\n  AppleAuthProvider: _AppleAuthProvider.default,\n  OAuthProvider: _OAuthProvider.default,\n  PhoneAuthState: {\n    CODE_SENT: 'sent',\n    AUTO_VERIFY_TIMEOUT: 'timeout',\n    AUTO_VERIFIED: 'verified',\n    ERROR: 'error'\n  }\n};\nexports.statics = statics;","map":{"version":3,"sources":["/Users/alheresh/trend-mobile/my-trend-new/node_modules/react-native-firebase/dist/modules/auth/index.js"],"names":["NATIVE_EVENTS","MODULE_NAME","NAMESPACE","Auth","app","events","moduleName","hasMultiAppSupport","hasCustomUrlSupport","namespace","NativeModule","_user","_settings","_authResult","_languageCode","APP_LANGUAGE","_name","APP_USER","_setUser","SharedEventEmitter","addListener","state","user","emit","event","eventKey","requestKey","type","auth","addAuthStateListener","addIdTokenListener","User","userCredential","additionalUserInfo","listener","info","removeListener","signOut","then","signInAnonymously","_setUserCredential","console","warn","email","password","createUserWithEmailAndPassword","signInWithEmailAndPassword","customToken","signInWithCustomToken","credential","signInWithCredential","providerId","token","secret","phoneNumber","forceResend","isAndroid","signInWithPhoneNumber","result","ConfirmationResult","verificationId","autoVerifyTimeoutOrForceResend","_forceResend","_autoVerifyTimeout","PhoneAuthListener","actionCodeSettings","sendPasswordResetEmail","sendSignInLinkToEmail","emailLink","includes","signInWithEmailLink","code","newPassword","confirmPasswordReset","applyActionCode","checkActionCode","fetchSignInMethodsForEmail","verifyPasswordResetCode","setLanguageCode","AuthSettings","Error","INTERNALS","STRINGS","ERROR_UNSUPPORTED_MODULE_METHOD","ModuleBase","statics","EmailAuthProvider","PhoneAuthProvider","GoogleAuthProvider","GithubAuthProvider","TwitterAuthProvider","FacebookAuthProvider","AppleAuthProvider","OAuthProvider","PhoneAuthState","CODE_SENT","AUTO_VERIFY_TIMEOUT","AUTO_VERIFIED","ERROR"],"mappings":"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","sourcesContent":["/**\n * \n * Auth representation wrapper\n */\nimport User from './User';\nimport ModuleBase from '../../utils/ModuleBase';\nimport { getAppEventName, SharedEventEmitter } from '../../utils/events';\nimport { isAndroid, isBoolean } from '../../utils';\nimport { getLogger } from '../../utils/log';\nimport { getNativeModule } from '../../utils/native';\nimport INTERNALS from '../../utils/internals';\nimport ConfirmationResult from './phone/ConfirmationResult';\nimport PhoneAuthListener from './phone/PhoneAuthListener';\nimport AuthSettings from './AuthSettings'; // providers\n\nimport EmailAuthProvider from './providers/EmailAuthProvider';\nimport PhoneAuthProvider from './providers/PhoneAuthProvider';\nimport GoogleAuthProvider from './providers/GoogleAuthProvider';\nimport GithubAuthProvider from './providers/GithubAuthProvider';\nimport OAuthProvider from './providers/OAuthProvider';\nimport TwitterAuthProvider from './providers/TwitterAuthProvider';\nimport FacebookAuthProvider from './providers/FacebookAuthProvider';\nimport AppleAuthProvider from './providers/AppleAuthProvider';\nconst NATIVE_EVENTS = ['auth_state_changed', 'auth_id_token_changed', 'phone_auth_state_changed'];\nexport const MODULE_NAME = 'RNFirebaseAuth';\nexport const NAMESPACE = 'auth';\nexport default class Auth extends ModuleBase {\n  constructor(app) {\n    super(app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: true,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    const NativeModule = getNativeModule(this);\n    this._user = null;\n    this._settings = null;\n    this._authResult = false;\n    this._languageCode = NativeModule.APP_LANGUAGE[app._name] || NativeModule.APP_LANGUAGE['[DEFAULT]'];\n\n    if (NativeModule.APP_USER[app._name]) {\n      this._setUser(NativeModule.APP_USER[app._name]);\n    }\n\n    SharedEventEmitter.addListener( // sub to internal native event - this fans out to\n    // public event name: onAuthStateChanged\n    getAppEventName(this, 'auth_state_changed'), state => {\n      this._setUser(state.user);\n\n      SharedEventEmitter.emit(getAppEventName(this, 'onAuthStateChanged'), this._user);\n    });\n    SharedEventEmitter.addListener( // sub to internal native event - this fans out to\n    // public events based on event.type\n    getAppEventName(this, 'phone_auth_state_changed'), event => {\n      const eventKey = `phone:auth:${event.requestKey}:${event.type}`;\n      SharedEventEmitter.emit(eventKey, event.state);\n    });\n    SharedEventEmitter.addListener( // sub to internal native event - this fans out to\n    // public event name: onIdTokenChanged\n    getAppEventName(this, 'auth_id_token_changed'), auth => {\n      this._setUser(auth.user);\n\n      SharedEventEmitter.emit(getAppEventName(this, 'onIdTokenChanged'), this._user);\n    });\n    NativeModule.addAuthStateListener();\n    NativeModule.addIdTokenListener();\n  }\n\n  _setUser(user) {\n    this._user = user ? new User(this, user) : null;\n    this._authResult = true;\n    SharedEventEmitter.emit(getAppEventName(this, 'onUserChanged'), this._user);\n    return this._user;\n  }\n\n  _setUserCredential(userCredential) {\n    const user = new User(this, userCredential.user);\n    this._user = user;\n    this._authResult = true;\n    SharedEventEmitter.emit(getAppEventName(this, 'onUserChanged'), this._user);\n    return {\n      additionalUserInfo: userCredential.additionalUserInfo,\n      user\n    };\n  }\n  /*\n   * WEB API\n   */\n\n  /**\n   * Listen for auth changes.\n   * @param listener\n   */\n\n\n  onAuthStateChanged(listener) {\n    getLogger(this).info('Creating onAuthStateChanged listener');\n    SharedEventEmitter.addListener(getAppEventName(this, 'onAuthStateChanged'), listener);\n    if (this._authResult) listener(this._user || null);\n    return () => {\n      getLogger(this).info('Removing onAuthStateChanged listener');\n      SharedEventEmitter.removeListener(getAppEventName(this, 'onAuthStateChanged'), listener);\n    };\n  }\n  /**\n   * Listen for id token changes.\n   * @param listener\n   */\n\n\n  onIdTokenChanged(listener) {\n    getLogger(this).info('Creating onIdTokenChanged listener');\n    SharedEventEmitter.addListener(getAppEventName(this, 'onIdTokenChanged'), listener);\n    if (this._authResult) listener(this._user || null);\n    return () => {\n      getLogger(this).info('Removing onIdTokenChanged listener');\n      SharedEventEmitter.removeListener(getAppEventName(this, 'onIdTokenChanged'), listener);\n    };\n  }\n  /**\n   * Listen for user changes.\n   * @param listener\n   */\n\n\n  onUserChanged(listener) {\n    getLogger(this).info('Creating onUserChanged listener');\n    SharedEventEmitter.addListener(getAppEventName(this, 'onUserChanged'), listener);\n    if (this._authResult) listener(this._user || null);\n    return () => {\n      getLogger(this).info('Removing onUserChanged listener');\n      SharedEventEmitter.removeListener(getAppEventName(this, 'onUserChanged'), listener);\n    };\n  }\n  /**\n   * Sign the current user out\n   * @return {Promise}\n   */\n\n\n  signOut() {\n    return getNativeModule(this).signOut().then(() => {\n      this._setUser();\n    });\n  }\n  /**\n   * Sign a user in anonymously\n   *\n   * @return {Promise} A promise resolved upon completion\n   */\n\n\n  signInAnonymously() {\n    return getNativeModule(this).signInAnonymously().then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign a user in anonymously\n   *\n   * @deprecated Deprecated signInAnonymouslyAndRetrieveData in favor of signInAnonymously.\n   * @return {Promise} A promise resolved upon completion\n   */\n\n\n  signInAnonymouslyAndRetrieveData() {\n    console.warn('Deprecated signInAnonymouslyAndRetrieveData in favor of signInAnonymously.');\n    return getNativeModule(this).signInAnonymously().then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Create a user with the email/password functionality\n   *\n   * @param  {string} email    The user's email\n   * @param  {string} password The user's password\n   * @return {Promise}         A promise indicating the completion\n   */\n\n\n  createUserWithEmailAndPassword(email, password) {\n    return getNativeModule(this).createUserWithEmailAndPassword(email, password).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Create a user with the email/password functionality\n   *\n   * @deprecated Deprecated createUserAndRetrieveDataWithEmailAndPassword in favor of createUserWithEmailAndPassword.\n   * @param  {string} email    The user's email\n   * @param  {string} password The user's password\n   * @return {Promise}         A promise indicating the completion\n   */\n\n\n  createUserAndRetrieveDataWithEmailAndPassword(email, password) {\n    console.warn('Deprecated createUserAndRetrieveDataWithEmailAndPassword in favor of createUserWithEmailAndPassword.');\n    return getNativeModule(this).createUserWithEmailAndPassword(email, password).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign a user in with email/password\n   *\n   * @param  {string} email    The user's email\n   * @param  {string} password The user's password\n   * @return {Promise}         A promise that is resolved upon completion\n   */\n\n\n  signInWithEmailAndPassword(email, password) {\n    return getNativeModule(this).signInWithEmailAndPassword(email, password).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign a user in with email/password\n   *\n   * @deprecated Deprecated signInAndRetrieveDataWithEmailAndPassword in favor of signInWithEmailAndPassword\n   * @param  {string} email    The user's email\n   * @param  {string} password The user's password\n   * @return {Promise}         A promise that is resolved upon completion\n   */\n\n\n  signInAndRetrieveDataWithEmailAndPassword(email, password) {\n    console.warn('Deprecated signInAndRetrieveDataWithEmailAndPassword in favor of signInWithEmailAndPassword.');\n    return getNativeModule(this).signInWithEmailAndPassword(email, password).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign the user in with a custom auth token\n   *\n   * @param  {string} customToken  A self-signed custom auth token.\n   * @return {Promise}             A promise resolved upon completion\n   */\n\n\n  signInWithCustomToken(customToken) {\n    return getNativeModule(this).signInWithCustomToken(customToken).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign the user in with a custom auth token\n   *\n   * @deprecated Deprecated signInAndRetrieveDataWithCustomToken in favor of signInWithCustomToken\n   * @param  {string} customToken  A self-signed custom auth token.\n   * @return {Promise}             A promise resolved upon completion\n   */\n\n\n  signInAndRetrieveDataWithCustomToken(customToken) {\n    console.warn('Deprecated signInAndRetrieveDataWithCustomToken in favor of signInWithCustomToken.');\n    return getNativeModule(this).signInWithCustomToken(customToken).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign the user in with a third-party authentication provider\n   *\n   * @return {Promise}           A promise resolved upon completion\n   */\n\n\n  signInWithCredential(credential) {\n    return getNativeModule(this).signInWithCredential(credential.providerId, credential.token, credential.secret).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Sign the user in with a third-party authentication provider\n   *\n   * @deprecated Deprecated signInAndRetrieveDataWithCredential in favor of signInWithCredential.\n   * @return {Promise}           A promise resolved upon completion\n   */\n\n\n  signInAndRetrieveDataWithCredential(credential) {\n    console.warn('Deprecated signInAndRetrieveDataWithCredential in favor of signInWithCredential.');\n    return getNativeModule(this).signInWithCredential(credential.providerId, credential.token, credential.secret).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Asynchronously signs in using a phone number.\n   *\n   */\n\n\n  signInWithPhoneNumber(phoneNumber, forceResend) {\n    if (isAndroid) {\n      return getNativeModule(this).signInWithPhoneNumber(phoneNumber, forceResend || false).then(result => new ConfirmationResult(this, result.verificationId));\n    }\n\n    return getNativeModule(this).signInWithPhoneNumber(phoneNumber).then(result => new ConfirmationResult(this, result.verificationId));\n  }\n  /**\n   * Returns a PhoneAuthListener to listen to phone verification events,\n   * on the final completion event a PhoneAuthCredential can be generated for\n   * authentication purposes.\n   *\n   * @param phoneNumber\n   * @param autoVerifyTimeoutOrForceResend Android Only\n   * @param forceResend Android Only\n   * @returns {PhoneAuthListener}\n   */\n\n\n  verifyPhoneNumber(phoneNumber, autoVerifyTimeoutOrForceResend, forceResend) {\n    let _forceResend = forceResend;\n    let _autoVerifyTimeout = 60;\n\n    if (isBoolean(autoVerifyTimeoutOrForceResend)) {\n      _forceResend = autoVerifyTimeoutOrForceResend;\n    } else {\n      _autoVerifyTimeout = autoVerifyTimeoutOrForceResend;\n    }\n\n    return new PhoneAuthListener(this, phoneNumber, _autoVerifyTimeout, _forceResend);\n  }\n  /**\n   * Send reset password instructions via email\n   * @param {string} email The email to send password reset instructions\n   * @param actionCodeSettings\n   */\n\n\n  sendPasswordResetEmail(email, actionCodeSettings) {\n    return getNativeModule(this).sendPasswordResetEmail(email, actionCodeSettings);\n  }\n  /**\n   * Sends a sign-in email link to the user with the specified email\n   * @param {string} email The email account to sign in with.\n   * @param actionCodeSettings\n   */\n\n\n  sendSignInLinkToEmail(email, actionCodeSettings) {\n    return getNativeModule(this).sendSignInLinkToEmail(email, actionCodeSettings);\n  }\n  /**\n   * Checks if an incoming link is a sign-in with email link.\n   * @param {string} emailLink Sign-in email link.\n   */\n\n\n  isSignInWithEmailLink(emailLink) {\n    return typeof emailLink === 'string' && (emailLink.includes('mode=signIn') || emailLink.includes('mode%3DsignIn')) && (emailLink.includes('oobCode=') || emailLink.includes('oobCode%3D'));\n  }\n  /**\n   * Asynchronously signs in using an email and sign-in email link.\n   *\n   * @param {string} email The email account to sign in with.\n   * @param {string} emailLink Sign-in email link.\n   * @return {Promise} A promise resolved upon completion\n   */\n\n\n  signInWithEmailLink(email, emailLink) {\n    return getNativeModule(this).signInWithEmailLink(email, emailLink).then(userCredential => this._setUserCredential(userCredential));\n  }\n  /**\n   * Completes the password reset process, given a confirmation code and new password.\n   *\n   * @link https://firebase.google.com/docs/reference/js/firebase.auth.Auth#confirmPasswordReset\n   * @param code\n   * @param newPassword\n   * @return {Promise.<Null>}\n   */\n\n\n  confirmPasswordReset(code, newPassword) {\n    return getNativeModule(this).confirmPasswordReset(code, newPassword);\n  }\n  /**\n   * Applies a verification code sent to the user by email or other out-of-band mechanism.\n   *\n   * @link https://firebase.google.com/docs/reference/js/firebase.auth.Auth#applyActionCode\n   * @param code\n   * @return {Promise.<Null>}\n   */\n\n\n  applyActionCode(code) {\n    return getNativeModule(this).applyActionCode(code).then(user => {\n      this._setUser(user);\n    });\n  }\n  /**\n   * Checks a verification code sent to the user by email or other out-of-band mechanism.\n   *\n   * @link https://firebase.google.com/docs/reference/js/firebase.auth.Auth#checkActionCode\n   * @param code\n   * @return {Promise.<any>|Promise<ActionCodeInfo>}\n   */\n\n\n  checkActionCode(code) {\n    return getNativeModule(this).checkActionCode(code);\n  }\n  /**\n   * Returns a list of authentication methods that can be used to sign in a given user (identified by its main email address).\n   * @return {Promise}\n   */\n\n\n  fetchSignInMethodsForEmail(email) {\n    return getNativeModule(this).fetchSignInMethodsForEmail(email);\n  }\n\n  verifyPasswordResetCode(code) {\n    return getNativeModule(this).verifyPasswordResetCode(code);\n  }\n  /**\n   * Sets the language for the auth module.\n   *\n   * @param code\n   */\n\n\n  set languageCode(code) {\n    this._languageCode = code;\n    getNativeModule(this).setLanguageCode(code);\n  }\n  /**\n   * The language for the auth module.\n   *\n   * @return {string}\n   */\n\n\n  get languageCode() {\n    return this._languageCode;\n  }\n  /**\n   * The current Auth instance's settings. This is used to edit/read configuration\n   * related options like app verification mode for phone authentication.\n   *\n   * @return {AuthSettings}\n   */\n\n\n  get settings() {\n    if (!this._settings) {\n      // lazy initialize\n      this._settings = new AuthSettings(this);\n    }\n\n    return this._settings;\n  }\n  /**\n   * Get the currently signed in user\n   * @return {Promise}\n   */\n\n\n  get currentUser() {\n    return this._user;\n  }\n  /**\n   * KNOWN UNSUPPORTED METHODS\n   */\n\n\n  getRedirectResult() {\n    throw new Error(INTERNALS.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'getRedirectResult'));\n  }\n\n  setPersistence() {\n    throw new Error(INTERNALS.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'setPersistence'));\n  }\n\n  signInWithPopup() {\n    throw new Error(INTERNALS.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'signInWithPopup'));\n  }\n\n  signInWithRedirect() {\n    throw new Error(INTERNALS.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'signInWithRedirect'));\n  } // firebase issue - https://github.com/invertase/react-native-firebase/pull/655#issuecomment-349904680\n\n\n  useDeviceLanguage() {\n    throw new Error(INTERNALS.STRINGS.ERROR_UNSUPPORTED_MODULE_METHOD('auth', 'useDeviceLanguage'));\n  }\n\n}\nexport const statics = {\n  EmailAuthProvider,\n  PhoneAuthProvider,\n  GoogleAuthProvider,\n  GithubAuthProvider,\n  TwitterAuthProvider,\n  FacebookAuthProvider,\n  AppleAuthProvider,\n  OAuthProvider,\n  PhoneAuthState: {\n    CODE_SENT: 'sent',\n    AUTO_VERIFY_TIMEOUT: 'timeout',\n    AUTO_VERIFIED: 'verified',\n    ERROR: 'error'\n  }\n};"]},"metadata":{},"sourceType":"script"}