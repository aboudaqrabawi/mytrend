{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.height = exports.width = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeMaps = _interopRequireWildcard(require(\"react-native-maps\"));\n\nvar _asyncStorage = _interopRequireDefault(require(\"@react-native-async-storage/async-storage\"));\n\nvar _Config = _interopRequireDefault(require(\"../../../assets/Config\"));\n\nvar _Footer = _interopRequireDefault(require(\"../../components/Footer\"));\n\nvar _jsxFileName = \"/Users/alheresh/trend-mobile/my-trend-new/src/screens/Map/MapScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nvar _Dimensions$get = _reactNative.Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nexports.height = height;\nexports.width = width;\n\nvar OurLocation = function (_Component) {\n  (0, _inherits2.default)(OurLocation, _Component);\n\n  var _super = _createSuper(OurLocation);\n\n  function OurLocation(props) {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, OurLocation);\n    _this = _super.call(this, props);\n    _this.state = {\n      data: []\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(OurLocation, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getAllTrends();\n    }\n  }, {\n    key: \"getAllTrends\",\n    value: function getAllTrends() {\n      var userId, response, res;\n      return _regenerator.default.async(function getAllTrends$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regenerator.default.awrap(_asyncStorage.default.getItem('@Trend:token'));\n\n            case 2:\n              userId = _context.sent;\n              console.log(userId);\n              this.setState({\n                showProgress: true\n              });\n              _context.prev = 5;\n              _context.next = 8;\n              return _regenerator.default.awrap(fetch(_Config.default.DOMAIN + 'alltrends', {\n                method: 'GET',\n                headers: {\n                  Authorization: 'Bearer ' + userId,\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              }));\n\n            case 8:\n              response = _context.sent;\n              _context.next = 11;\n              return _regenerator.default.awrap(response.json());\n\n            case 11:\n              res = _context.sent;\n              console.log('res', response.url);\n              console.log('res', res.trends);\n\n              if (res.status == 400) {\n                this.error(res.messg);\n              } else {\n                this.setState({\n                  showProgress: false,\n                  data: res.trends\n                });\n              }\n\n              _context.next = 21;\n              break;\n\n            case 17:\n              _context.prev = 17;\n              _context.t0 = _context[\"catch\"](5);\n              console.log(_context.t0);\n              this.setState({\n                showProgress: false\n              });\n\n            case 21:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, [[5, 17]], Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _react.default.createElement(_reactNative.View, {\n        style: {\n          height: height\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_reactNativeMaps.default, {\n        style: styles.map,\n        region: {\n          latitude: 31.978983,\n          longitude: 35.850565,\n          latitudeDelta: 0.999922,\n          longitudeDelta: 0.999922\n        },\n        provider: _reactNativeMaps.PROVIDER_GOOGLE,\n        showsUserLocation: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      }, this.state.data.length > 0 && this.state.data.map(function (val, key) {\n        return _react.default.createElement(_reactNativeMaps.default.Marker, {\n          key: key,\n          coordinate: {\n            latitude: val.lat != null && val.lng != null ? parseFloat(val.lat) : 31.978983,\n            longitude: val.lat != null && val.lng != null ? parseFloat(val.lng) : 35.850565\n          },\n          title: val.title,\n          onPress: function onPress() {\n            return _this2.props.navigation.navigate('MyProfileScreen', {\n              user_id: val.user_trend.id\n            });\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }\n        }, _react.default.createElement(_reactNative.Image, {\n          source: require('../../../assets/images/marker.png'),\n          style: {\n            height: 30,\n            width: 30,\n            resizeMode: 'center'\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }\n        }), val.user_trend != null && _react.default.createElement(_reactNative.Image, {\n          source: {\n            uri: _Config.default.IMG_DOMAIN + val.user_trend.image\n          },\n          style: {\n            height: 30,\n            width: 30,\n            borderRadius: 30 / 2\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }\n        }));\n      })));\n    }\n  }]);\n  return OurLocation;\n}(_react.Component);\n\nexports.default = OurLocation;\n\nvar styles = _reactNative.StyleSheet.create({\n  map: _objectSpread(_objectSpread({}, _reactNative.StyleSheet.absoluteFillObject), {}, {\n    flex: 1\n  })\n});","map":{"version":3,"sources":["/Users/alheresh/trend-mobile/my-trend-new/src/screens/Map/MapScreen.js"],"names":["Dimensions","get","width","height","OurLocation","props","state","data","getAllTrends","AsyncStorage","getItem","userId","console","log","setState","showProgress","fetch","config","DOMAIN","method","headers","Authorization","Accept","response","json","res","url","trends","status","error","messg","styles","map","latitude","longitude","latitudeDelta","longitudeDelta","PROVIDER_GOOGLE","length","val","key","lat","lng","parseFloat","title","navigation","navigate","user_id","user_trend","id","require","resizeMode","uri","IMG_DOMAIN","image","borderRadius","Component","StyleSheet","create","absoluteFillObject","flex"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Dimensions, View, Image, ScrollView, StyleSheet} from 'react-native';\nimport MapView, {PROVIDER_GOOGLE} from 'react-native-maps';\nexport const {width: width, height: height} = Dimensions.get('window');\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport config from '../../../assets/Config';\nimport Footer from '../../components/Footer';\n\nexport default class OurLocation extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getAllTrends();\n  }\n\n  async getAllTrends() {\n    const userId = await AsyncStorage.getItem('@Trend:token');\n    console.log(userId);\n    this.setState({showProgress: true});\n    try {\n      let response = await fetch(config.DOMAIN + 'alltrends', {\n        method: 'GET',\n        headers: {\n          Authorization: 'Bearer ' + userId,\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n      });\n      let res = await response.json();\n      console.log('res', response.url);\n      console.log('res', res.trends);\n      if (res.status == 400) {\n        this.error(res.messg);\n      } else {\n        this.setState({showProgress: false, data: res.trends});\n      }\n    } catch (error) {\n      console.log(error);\n      this.setState({showProgress: false});\n    }\n  }\n  render() {\n    return (\n      <View style={{height: height}}>\n        <MapView\n          style={styles.map}\n          region={{\n            latitude: 31.978983,\n            longitude: 35.850565,\n            latitudeDelta: 0.999922,\n            longitudeDelta: 0.999922,\n          }}\n          provider={PROVIDER_GOOGLE}\n          showsUserLocation={true}>\n          {this.state.data.length > 0 &&\n            this.state.data.map((val, key) => (\n              <MapView.Marker\n                key={key}\n                coordinate={{\n                  latitude:\n                    val.lat != null && val.lng != null\n                      ? parseFloat(val.lat)\n                      : 31.978983,\n                  longitude:\n                    val.lat != null && val.lng != null\n                      ? parseFloat(val.lng)\n                      : 35.850565,\n                }}\n                title={val.title}\n                onPress={() =>\n                  this.props.navigation.navigate('MyProfileScreen', {\n                    user_id: val.user_trend.id,\n                  })\n                }>\n                <Image\n                  source={require('../../../assets/images/marker.png')}\n                  style={{height: 30, width: 30, resizeMode: 'center'}}\n                />\n                {val.user_trend != null && (\n                  <Image\n                    source={{uri: config.IMG_DOMAIN + val.user_trend.image}}\n                    style={{height: 30, width: 30, borderRadius: 30 / 2}}\n                  />\n                )}\n              </MapView.Marker>\n            ))}\n        </MapView>\n      </View>\n    );\n  }\n}\nconst styles = StyleSheet.create({\n  map: {\n    ...StyleSheet.absoluteFillObject,\n    flex: 1,\n  },\n});\n"]},"metadata":{},"sourceType":"script"}